<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head><meta charset="utf-8"/> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/> 
        <title>Login SysFin</title> 
        <link href="resources/css/css.css" rel="stylesheet" type="text/css" />
    </h:head> 
    <h:body> 
        <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

        <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <img src="resources/img/ajax-loader.gif" />
        </p:dialog>
        <h:form class="login">
            <div id="tudo">
                <tr>
                    <td><table aling="center" width="00" border="0" cellpadding="0" cellspacing="0"> 
                            <tr>
                                <td><img src="resources/img/logo.png" width="350" height="140" class="logo"/></td>
                            </tr>
                        </table></td></tr>
            </div>
            <br></br>
            <div id="centro">
               
                <br></br>
                <br></br>
                <br></br>
                
                <p:fieldset style="margin-bottom:20px" class="telalogin"> 
                     <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                    <h:panelGrid >
                        <p:outputLabel value="Nome do usuÃ¡rio" for="nome"  class="meio"/>
                    </h:panelGrid>
                    <h:panelGrid>
                        <p:inputText id="nome" size="27"  class="meio" value="#{UsuarioLogadoBean.usuario.login}"  required="required" requiredMessage="Campo Obrigatorio"/>
                    </h:panelGrid>
                    <h:panelGrid>
                        <p:outputLabel value="Senha" for="senha"  class="meio"/>
                    </h:panelGrid>
                    <h:panelGrid>
                        <p:password id="senha" size="27"  class="meio" value="#{UsuarioLogadoBean.usuario.senha}" required="required" requiredMessage="Campo Obrigatorio"/>
                    </h:panelGrid>
                    <p:commandButton value="Login" class="botaologin" action="#{UsuarioLogadoBean.validarUsuario()}"/>
                    <p:commandButton value="Alterar Senha" action="#{UsuarioLogadoBean.validarTrocarSenha()}" class="botaologin2"  oncomplete="PF('dll').show()"  />
                    <br></br>
                </p:fieldset>  
                <p:dialog header="Alterar Senha" modal="true" showEffect="bounce" widgetVar="dll" resizable="false"  class="tabelaRecebimento" width="22%" height="60%">
                    <h:panelGrid columns="2" cellpadding="5" >
                        <p:outputLabel value="Nova Senha" for="novasenha"  class="left"/>
                    </h:panelGrid>        
                    <h:panelGrid columns="2" cellpadding="5" >
                        <p:inputText  id="novasenha" value="#{UsuarioLogadoBean.novaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                    </h:panelGrid>
                    <h:panelGrid columns="2" cellpadding="5" >
                        <p:outputLabel value="Confirmar Senha" for="confirmarsenha"  class="left" />
                    </h:panelGrid>        
                    <h:panelGrid columns="2" cellpadding="5" >
                        <p:inputText  id="confirmarsenha" value="#{UsuarioLogadoBean.confirmaNovaSenha}"  size="25" maxlength="50"  class="left" type="password"/> 
                    </h:panelGrid>
                    <p:commandButton value="Confirmar" icon="ui-icon-plusthick" class="excel" onclick="dll.hide();" action="#{UsuarioLogadoBean.confirmaNovaSenha}" />
                    <p:commandButton value="Cancelar" onclick="dll.hide();" icon="ui-icon-closethick" class="excel" action="#{UsuarioLogadoBean.cancelarTrocaSenha()}"/>  

                </p:dialog>
                <br></br>
            </div>

        </h:form>
    </h:body> 
</html>